process ANA =  {
	### Conditions (Global Tag is used here):
	include "Configuration/StandardSequences/data/FrontierConditions_GlobalTag.cff"
	replace GlobalTag.globaltag = "CRUZET_V3::All"
	es_prefer GlobalTag = PoolDBESSource {}

	include "Configuration/StandardSequences/data/Geometry.cff"
	include "Configuration/StandardSequences/data/Reconstruction.cff"
	include "Configuration/StandardSequences/data/MagneticField.cff"
	include "Configuration/GlobalRuns/data/ForceZeroTeslaField.cff"

	include "Geometry/CommonDetUnit/data/globalTrackingGeometry.cfi"
	#include "Geometry/CommonDetUnit/data/bareGlobalTrackingGeometry.cfi"
	# Tracker Geometry Builder
	#include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

	# Tracker Numbering Builder
	#include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
	include "RecoMuon/DetLayers/data/muonDetLayerGeometry.cfi"
	include "RecoMuon/TrackingTools/data/MuonServiceProxy.cff"

	service = TFileService { 
		string fileName = "ana.root"
	}

	untracked PSet maxEvents = {untracked int32 input = 10}
	source = PoolSource 
	{ 
		untracked vstring fileNames = {
		'file:FE730633-7951-DD11-A7F1-001617C3B70E.root'
	}
	}
	module barrelAnalyzer = MuonTrackAnalyzer {
		using MuonServiceProxy
		include "TrackingTools/TrackAssociator/data/default.cfi"

		untracked InputTag track = cosmicMuonsBarrelOnly
	}
	replace barrelAnalyzer.TrackAssociatorParameters.dRMuonPreselection = 0.2
	replace barrelAnalyzer.TrackAssociatorParameters.muonMaxDistanceX = 5.0
	replace barrelAnalyzer.TrackAssociatorParameters.muonMaxDistanceY = 5.0


#	module out = PoolOutputModule {
#		untracked string fileName = "output.root"
#	}

	#keep the logging output to a nice level
	service = MessageLogger {
#		untracked vstring destinations = {"cout"}
#		untracked vstring debugModules = { "barrelAnalyzer" }
#		#untracked vstring categories   = {"TrackAssociator"}
#		untracked PSet cout = {
#			untracked string threshold = "DEBUG"
#			untracked PSet DEBUG = { untracked int32 limit = 0  }
#			untracked PSet INFO = { untracked int32 limit = 0  }
#			#untracked PSet TrackAssociator = { untracked int32 limit = -1  }
#		}
	}

	#include "CosmicAnalysis/CosmicAnalyzer/test/source/CRUZET3_V2_cosmicMuonsBarrelOnly_v1.cff"
	include "CosmicAnalysis/CosmicAnalyzer/test/CRUZET3_V2P_v3.cff"

	path p = {barrelAnalyzer} 

}
